<!-- T·ªïng quan Dashboard -->
<div class="row" *ngIf="summary">
  <div class="col-sm-6 col-lg-4">
    <mat-card class="cardWithShadow bg3">
      <mat-card-content class="p-24 center-content">
        <div class="row">
          <img src="../../../assets/images/backgrounds/db1.png" class="mr-8" width="80" height="80" alt="Orders Image">
          <div class="column">
            <mat-card-title>ƒê∆°n h√¥m nay</mat-card-title>
            <div class="row m-t-24">
              <div class="col-7">
                <h4 class="mat-headline-5">{{summary.totalOrdersToday | number}}</h4>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-4">
    <mat-card class="cardWithShadow bg5">
      <mat-card-content class="p-24 center-content">
        <div class="row">
          <img src="../../../assets/images/backgrounds/db2.png" class="mr-8" width="80" height="80" alt="Pending Image">
          <div class="column">
            <mat-card-title>ƒê∆°n ch∆∞a ho√†n th√†nh</mat-card-title>
            <div class="row m-t-24">
              <div class="col-7">
                <h4 class="mat-headline-5">{{summary.pendingOrders | number}}</h4>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-4">
    <mat-card class="cardWithShadow bg6">
      <mat-card-content class="p-24 center-content">
        <div class="row">
          <img src="../../../assets/images/backgrounds/db3.png" class="mr-8" width="80" height="80" alt="Completed Image">
          <div class="column">
            <mat-card-title>ƒê∆°n ho√†n th√†nh h√¥m nay</mat-card-title>
            <div class="row m-t-24">
              <div class="col-7">
                <h4 class="mat-headline-5">{{summary.completedOrdersToday | number}}</h4>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- Chart ƒë∆°n h√†ng ho√†n th√†nh/ch∆∞a ho√†n th√†nh -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <div class="d-flex w-100">
          <mat-card-title>Tr·∫°ng th√°i ƒë∆°n h√†ng</mat-card-title>
        </div>
        <apx-chart 
          [series]="salesOverviewChart.series" 
          [dataLabels]="salesOverviewChart.dataLabels"
          [chart]="salesOverviewChart.chart" 
          [legend]="salesOverviewChart.legend" 
          [xaxis]="salesOverviewChart.xaxis"
          [yaxis]="salesOverviewChart.yaxis" 
          [grid]="salesOverviewChart.grid" 
          [stroke]="salesOverviewChart.stroke"
          [tooltip]="salesOverviewChart.tooltip" 
          [plotOptions]="salesOverviewChart.plotOptions">
        </apx-chart>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- ƒê∆°n h√†ng theo d√¢y chuy·ªÅn -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>ƒê∆°n h√†ng theo d√¢y chuy·ªÅn</mat-card-title>
        <div class="orders-by-line-container">
          <div class="line-card" *ngFor="let item of ordersByLine; let i = index" [style.backgroundColor]="getLineColor(i)">
            <div class="line-name">{{ item.lineName }}</div>
            <div class="line-orders">{{ item.totalOrders | number }} ƒë∆°n</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- Top 5 s·∫£n ph·∫©m -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>Top 5 s·∫£n ph·∫©m</mat-card-title>
        <table class="top-products-table">
          <thead>
            <tr>
              <th>T√™n s·∫£n ph·∫©m</th>
              <th>S·ªë l∆∞·ª£ng xu·∫•t</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of topProducts; let i = index">
              <td>
                <span *ngIf="i === 0" class="top-icon gold-medal">ü•á</span>
                <span *ngIf="i === 1" class="top-icon silver-medal">ü•à</span>
                <span *ngIf="i === 2" class="top-icon bronze-medal">ü•â</span>
                <span *ngIf="i === 3" class="top-icon fourth-place">üèÖ</span>
                <span *ngIf="i === 4" class="top-icon fifth-place">üéñÔ∏è</span>
                {{ product.productName }}
              </td>
              <td>{{ product.totalUnits | number }}</td>
            </tr>
          </tbody>
        </table>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- ƒê∆°n ch∆∞a ho√†n th√†nh -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>ƒê∆°n ch∆∞a ho√†n th√†nh</mat-card-title>
        <div class="table-wrapper">
          <table class="incomplete-orders-table">
            <thead>
              <tr>
                <th>Ng√†y</th>
                <th>M√£ ƒë∆°n</th>
                <th>Bi·ªÉn s·ªë xe</th>
                <th>S·∫£n ph·∫©m</th>
                <th>Y√™u c·∫ßu</th>
                <th>Th·ª±c t·∫ø</th>
                <th>% Ho√†n th√†nh</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of incompleteOrders">
                <td>{{ order.date }}</td>
                <td>{{ order.orderNumber }}</td>
                <td>{{ order.vehicleNumber }}</td>
                <td>{{ order.productName }}</td>
                <td>{{ order.requestedUnits | number }}</td>
                <td>{{ order.actualUnits | number }}</td>
                <td>
                  <span class="completion-percentage" [ngClass]="{
                    'low': order.completionPercentage < 50,
                    'medium': order.completionPercentage >= 50 && order.completionPercentage < 80,
                    'high': order.completionPercentage >= 80
                  }">
                    {{ order.completionPercentage | number:'1.0-2' }}%
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- ƒê∆°n ch∆∞a ho√†n th√†nh -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>ƒê∆°n ch∆∞a ho√†n th√†nh</mat-card-title>
        <div class="table-wrapper">
          <table class="incomplete-orders-table">
            <thead>
              <tr>
                <th>Ng√†y</th>
                <th>M√£ ƒë∆°n</th>
                <th>Bi·ªÉn s·ªë xe</th>
                <th>S·∫£n ph·∫©m</th>
                <th>Y√™u c·∫ßu</th>
                <th>Th·ª±c t·∫ø</th>
                <th>% Ho√†n th√†nh</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of incompleteOrders">
                <td>{{ order.date }}</td>
                <td>{{ order.orderNumber }}</td>
                <td>{{ order.vehicleNumber }}</td>
                <td>{{ order.productName }}</td>
                <td>{{ order.requestedUnits | number }}</td>
                <td>{{ order.actualUnits | number }}</td>
                <td>
                  <span class="completion-percentage" [ngClass]="{
                    'low': order.completionPercentage < 50,
                    'medium': order.completionPercentage >= 50 && order.completionPercentage < 80,
                    'high': order.completionPercentage >= 80
                  }">
                    {{ order.completionPercentage | number:'1.0-2' }}%
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- ƒê∆°n ƒëang x·ª≠ l√Ω -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>ƒê∆°n ƒëang x·ª≠ l√Ω</mat-card-title>
        <div class="table-wrapper">
          <table class="processing-orders-table">
            <thead>
              <tr>
                <th>Ng√†y</th>
                <th>M√£ ƒë∆°n</th>
                <th>Bi·ªÉn s·ªë xe</th>
                <th>D√¢y chuy·ªÅn</th>
                <th>T·ªïng ƒë∆°n v·ªã</th>
                <th>Tr·∫°ng th√°i</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of processingOrders">
                <td>{{ order.date }}</td>
                <td>{{ order.orderNumber }}</td>
                <td>{{ order.vehicleNumber }}</td>
                <td>{{ order.lineName }}</td>
                <td>{{ order.totalUnits | number }}</td>
                <td>
                  <span class="status-badge" [ngClass]="{
                    'pending': order.status.toLowerCase() === 'pending',
                    'processing': order.status.toLowerCase() === 'processing',
                    'on-hold': order.status.toLowerCase() === 'on-hold' || order.status.toLowerCase() === 'on hold'
                  }">
                    {{ order.status }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- ƒê∆°n ho√†n th√†nh g·∫ßn ƒë√¢y -->
<div class="row">
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>ƒê∆°n ho√†n th√†nh g·∫ßn ƒë√¢y</mat-card-title>
        <div class="table-wrapper">
          <table class="recent-completed-orders-table">
            <thead>
              <tr>
                <th>Ng√†y ho√†n th√†nh</th>
                <th>M√£ ƒë∆°n</th>
                <th>ƒê·∫°i l√Ω</th>
                <th>S·∫£n ph·∫©m</th>
                <th>T·ªïng ƒë∆°n v·ªã</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of recentCompletedOrders">
                <td>{{ order.completedDate }}</td>
                <td>{{ order.orderNumber }}</td>
                <td>{{ order.distributorName }}</td>
                <td>{{ order.productName }}</td>
                <td>
                  <span class="total-units-badge">
                    {{ order.totalUnits | number }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>